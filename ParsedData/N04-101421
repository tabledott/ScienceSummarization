s W &#8801; {wr  |r &#8712; R}. begin for (i, o, w) &#8712; T do di,o &#8592; DERIV(X, i, o)//Alg.
    1 if di,o = false then warn(more rules are needed to explain (i,o)) compute inside/outside weights for di,o and remove all useless nonterminals n whose &#946;di,o(n) = 0 or &#945;di,o(n) = 0 itno &#8592; 0, lastL &#8592; &#8722;&#8734;, &#948; &#8592; &#491; for r = (q, pat, rhs, w) &#8712; R do wr &#8592; w
  
  
    are strings containing state-marked input subtrees).
    We have developed an xRS training procedure similar to the xR procedure, with extra computational expense to consider how different productions might map to different spans of the output string.
    Space limitations prohibit a detailed description; we refer the reader to a longer version of this paper (submitted).
    We note that this algorithm subsumes normal inside-outside training of PCFG on strings (Lari and Young, 1990), since we can always fix the input tree to some constant for all training examples.
  
  
    It is possible to c