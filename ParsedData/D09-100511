alternative to Figure 2 for computing the total weight (k, x) of the hypergraph, especially if the xe are vectors.
    First, at lines 2&#8211;3, the inside and outside algorithms are run using only the ke weights, obtaining only k (without x) but also obtaining all inside and outside weights ,Q, &#945; &#8712; K as a side effect.
    Then the second component x&#65533; of the total weight is accumulated in lines 5&#8211;11 as a linear combination of all the xe values, namely x&#65533; = Ee kexe, where ke is computed at lines 8&#8211;10 using &#945; and ,Q weights.
    The linear coefficient ke is the &#8220;exclusive weight&#8221; for hyperedge e, meaning that the product keke is the total weight in K of all derivations d &#8712; D that include e. of all derivations in the hypergraph), p is a measure over this space, and r, s : D &#8212; R are random variables.
    Then r/Z and s/Z give the expectations of these random variables, and t/Z gives the expectation of their product t = rs, so that t/Z &#8722; (r/Z