ted (xi, yi).
    For example, if every arc had value 1, then expected value would be expected path length.
    Letting H denote the set of paths in xi o fe o yi (Fig.
    2), the expected value is14 The denominator of equation (1) is the total probability of all accepting paths in xi o f o yi.
    But while computing this, we will also compute the numerator.
    The idea is to augment the weight data structure with expectation information, so each weight records a probability and a vector counting the parameters that contributed to that probability.
    We will enforce an invariant: the weight of any pathset H must be (&amp;E&#928; P(&#960;), &amp;E&#928; P(&#960;) val(&#960;)) E R&gt;0 x V , from which (1) is trivial to compute.
    Berstel and Reutenauer (1988) give a sufficiently general finite-state framework to allow this: weights may fall in any set K (instead of R).
    Multiplication and addition are replaced by binary operations &#174; and &#174; on K. Thus &#174; is used to combine arc weights into