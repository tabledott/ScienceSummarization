 weighted derivation trees corresponding to Xtransductions (I, ()) &#65533;&#65533; X(O, h) (with weight equal to wX(h)).
  
  
    Given a wRTG G = (E, N, S, P), we can compute the sums of weights of trees derived using each production by adapting the well-known inside-outside algorithm for weighted context-free (string) grammars (Lari and Young,1990).
    The inside weights using G are given by &#946;G : TE &#8594; (R&#8722;R&#8722;), giving the sum of weights of all tree-producing derivatons from trees with nonterminal leaves: By definition, &#946;G(S) gives the sum of the weights of all trees generated by G. For the wRTG generated by DERIV(X, I, O), this is exactly WX(I, O).
    Outside weights &#945;G for a nonterminal are the sums of weights of trees generated by the wRTG that have derivations containing it, but excluding its inside weights (that is, the weights summed do not include the weights of rules used to expand an instance of it).
    Input: xR transducer X = (E, A, Q, Qi, R) and observed tree p