 Now, we consider the general case.
    We need to expand our concept of outer to include deduction rules, where outer(j, al ak) is an item derivation tree of the goal item with one subtree removed, a subtree headed by al whose parent is b and whose siblings are headed by al, ak.
    Notice that for every outer tree D E outer(x), there is exactly one], al,.
    , ak, and b such that x = aj and D E outer(j,a1 b* &#8226; ak): this corresponds to the deduction rule used at the spot in the tree where the subtree headed by x was deleted.
    Figure 9 illustrates the idea of putting together an outer tree of b with inner trees for al, .7)., ak to form an outer tree of x = al. Using this observation, ak,b s.t. al ak A x=aj DEouter ak.)
    Combining an outer tree with inner trees to form an outer tree.
    Now, consider all of the outer trees outer(j,a1 ak).
    For each item derivation tree Dai E inner(ak) and for each outer tree Db E outer(b), there will be one outer tree in the set outer(j,a1 .b.. ak.. ) Similarl