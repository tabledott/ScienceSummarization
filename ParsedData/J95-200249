of computing outer probabilities, we describe their use in obtaining the expected rule counts needed for the E-step in grammar estimation.
    Let c(X &#8212;&gt; A x) denote the expected number of uses of production X &#8212;&gt; A in the derivation of string x. Alternatively, c(X A I x) is the expected number of times that X &#8212;&gt; A is used for prediction in a complete Earley path generating x.
    Let c(X A I P) be the number of occurrences of predicted states based on production X &#8212;&gt; A along a path P. The last summation is over all predicted states based on production X A.
    The quantity P(S x0.../-1Xv x) is the sum of the probabilities of all paths passing through i : ,X ---+ .A.
    Inner and outer probabilities have been defined such that this quantity is obtained precisely as the product of the corresponding of and 13,.
    Thus, v x).
    The sum can be computed after completing both forward and backward passes (or during the backward pass itself) by scanning the chart for predicted 