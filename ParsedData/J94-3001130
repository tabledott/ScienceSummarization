ng the complement of 7- restricted to T'S domain: [Id(Dom(T)) 0 A p As desired, the left side is the relation that maps each string in the domain of T to all strings other than those to which T maps it.
    Surface prohibitions are thus reduced to ordinary surface coercions.
    The relation for a grammar of rules is formed just as for a grammar of parallel automata.
    The intersection of the relations for all the individual rules is constructed as a same-length inner relation.
    This is then composed with the 0 introduction and removal relations to form the outer lexical-to-surface map.
    Rule-based two-level grammars thus denote regular relations, just as the original transducer-based grammars do.
    Some grammars may make use of boundary-context rules, in which case a special symbol # can appear in contexts to mark the beginning and end of the strings.
    These can be modeled with exactly the same technique we outlined for rewriting rules: we compose the additional relation [e:#/d (Em*0 # Em*o) &#8