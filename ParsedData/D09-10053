) on the set of paths in a lattice or the set of trees in a hypergraph.
    The second-order expectation semiring additionally computes a matrix of secondorder statistics (expectations of products; second derivatives (Hessian); derivatives of expectations).
    We present details on how to compute many interesting quantities over the hypergraph using the expectation and variance semirings.
    These quantities include expected hypothesis length, feature expectation, entropy, cross-entropy, KullbackLeibler divergence, Bayes risk, variance of hypothesis length, gradient of entropy and Bayes risk, covariance and Hessian matrix, and so on.
    The variance semiring is essential for many interesting training paradigms such as deterministic annealing (Rose, 1998), minimum risk (Smith and Eisner, 2006), active and semi-supervised learning (Grandvalet and Bengio, 2004; Jiao et al., 2006).
    In these settings, we must compute the gradient of entropy or risk.
    The semirings can also be used for second-order gradie