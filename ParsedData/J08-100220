e number of nodes in the feature forest &#934;.
    We therefore need an algorithm for computing model expectations without unpacking a feature forest.
    Figure 3 Unpacked trees represented as sets of conjunctive nodes.
    Inside/outside at node c2 in a feature forest.
    To efficiently compute model expectations, we incorporate an approach similar to the dynamic programming algorithm for computing inside/outside probabilities in PCFGs.
    We first define the notion of inside/outside of a feature forest.
    Figure 4 illustrates this concept, which is similar to the analogous concept in PCFGs.3 Inside denotes a set of partial trees (sets of conjunctive nodes) derived from node c2.
    Outside denotes a set of partial trees that derive node c2.
    That is, outside trees are partial trees of complements of inside trees.
    We denote a set of inside trees at node n as &#953;(n), and that of outside trees as o(n).
    We define a set &#953;(n) of inside trees rooted at node n &#8712; C &#8746; D as a set o