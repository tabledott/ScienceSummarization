tart, or root) state, and R &#8838; Q &#215; XRPAT&#931; &#215; (A &#8746;(Q &#215; paths))&#8902; &#215; R+ are a finite set of weighted transformation rules, written (q, pattern) &#8594;w rhs.
    A rule says that to transform (with weight w) an input subtree matching pattern while in state q, replace it by the string of rhs with its nonterminal (Q &#215; paths) letters replaced by their (recursive) transformation. xRS is the same as xR, except that the rhs are strings containing some nonterminals instead of trees containing nonterminal leaves (so the intermediate derivation objects
  
  
    Input: xR transducer X = (E, A, Q, Qd, R), observed weighted tree pairs T &#8712; TE &#215; TA &#215; R+, normalization function Z({countr  |r &#8712; R}, r&#8242; &#8712; R), minimum relative log-likelihood change for convergence &#491; &#8712; R+, maximum number of iterations maxit &#8712; N, and prior counts (for a so-called Dirichlet prior) {priorr  |r &#8712; R} for smoothing each rule.
    Output: New rule weight