not occur in E. We first assume that the overall gain function G(E, E0) can then be written as a sum of local gain functions and a constant &#952;0 times the length of the hypothesis E0.
    1: G(E, E0) = &#952;0|E0 |+ Given a gain function of this form, we can rewrite the risk (sum in Equation 1) as follows where &#163;w = {E E &#163;|&#948;w(E) &gt; 01 represents the paths of the lattice containing the n-gram w at least once.
    The MBR decoder on lattices (Equation 1) can therefore be written as Here p(w|&#163;) = EE&#8712;Ew P(E|F) is the posterior probability of the n-gram w in the lattice.
    We have thus replaced a summation over a possibly exponential number of items (E E &#163;) with a summation over the number of n-grams that occur in &#163;, which is at worst polynomial in the number of edges in the lattice that defines &#163;.
    We compute the posterior probability of each n-gram w as: where Z(&#163;) = EE'&#8712;E exp(&#945;H(E0, F)) (denominator in Equation 3) and Z(&#163;w) = EE'&#8712;Ew e