, z) and p(B, z  |x): KL(q(B, z) k p(B, z  |x)) Thus F is a lower bound on likelihood.
    Maximizing this lower bound is equivalent to minimizing the KLdivergence between p(B, z  |x) and q(B, z).
    To make this maximization tractable we make a mean field assumption that q belongs to a set Q of distributions that factorize as follows: We further constrain q to be from the subset of Q that satisfies the expectation constraint Eq[f(z)] &#8804; b where f is a deterministically computable function of the hidden structures.
    In our model, for example, f counts the dependency edges that are an instance of one of the declaratively specified dependency rules, while b is the proportion of the total dependencies that we expect should fulfill this constraint.2 With the mean field factorization and the expectation constraints in place, solving the maximization of F in (1) separately for each factor yields the following updates: where We can solve (2) by setting q(B) to q'(B) &#8212; since q(z) is held fixed while up